'use strict';

var Site = require('dw/system/Site');

/**
 * Klarna On-Site Messaging Component
 */
var KlarnaOSM = {
    getUCI: function () {
        var value = Site.getCurrent().getCustomPreferenceValue('osmUCI');

        return value;
    },
    isEnabled: function () {
        return (this.isEnabledCartPage() || this.isEnabledPDPPage());
    },
    isEnabledCartPage: function () {
        var value = Site.getCurrent().getCustomPreferenceValue('osmCartEnabled');

        return value;
    },
    getCartPagePlacementTagId: function () {
        var value = Site.getCurrent().getCustomPreferenceValue('osmCartTagId');

        return value;
    },
    isEnabledPDPPage: function () {
        var value = Site.getCurrent().getCustomPreferenceValue('osmPDPEnabled');

        return value;
    },
    getPDPPagePlacementTagId: function () {
        var value = Site.getCurrent().getCustomPreferenceValue('osmPDPTagId');

        return value;
    },
    getScriptURL: function () {
        var value = Site.getCurrent().getCustomPreferenceValue('osmLibraryUrl');

        return value;
    },
    formatPurchaseAmount: function (price) {
        var formattedAmount = Math.round(price.value * 100);

        return formattedAmount;
    }
};

module.exports = KlarnaOSM;